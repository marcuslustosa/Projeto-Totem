{"version":3,"file":"fastfile.js","sourceRoot":"","sources":["../../src/ios/fastfile.ts"],"names":[],"mappings":";;;;;;AAAA,gDAAwB;AAExB,wEAA+C;AAI/C,MAAM,yBAAyB,GAAG,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,0CAA0C,CAAC,CAAC;AAE5F,KAAK,UAAU,+BAA+B,CAAC,EACpD,UAAU,EACV,OAAO,EACP,eAAe,EACf,YAAY,EACZ,0BAA0B,GAO3B;IACC,MAAM,QAAQ,GAA0C,EAAE,CAAC;IAC3D,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;IACxD,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE;QAC5B,MAAM,OAAO,GAAG,0BAA0B,CAAC,MAAM,CAAC,CAAC;QACnD,QAAQ,CAAC,IAAI,CAAC;YACZ,SAAS,EAAE,OAAO,CAAC,gBAAgB;YACnC,IAAI,EAAE,OAAO,CAAC,IAAI;SACnB,CAAC,CAAC;KACJ;IAED,MAAM,IAAA,uBAAY,EAChB,yBAAyB,EACzB;QACE,QAAQ,EAAE,OAAO;QACjB,gBAAgB,EAAE,eAAe;QACjC,QAAQ;QACR,aAAa,EAAE,YAAY;KAC5B,EACD,UAAU,EACV,EAAE,QAAQ,EAAE,KAAK,EAAE,CACpB,CAAC;AACJ,CAAC;AAlCD,0EAkCC","sourcesContent":["import path from 'path';\n\nimport templateFile from '@expo/template-file';\n\nimport { TargetProvisioningProfiles } from './credentials/manager';\n\nconst RESIGN_TEMPLATE_FILE_PATH = path.join(__dirname, '../../templates/Fastfile.resign.template');\n\nexport async function createFastfileForResigningBuild({\n  outputFile,\n  ipaPath,\n  signingIdentity,\n  keychainPath,\n  targetProvisioningProfiles,\n}: {\n  outputFile: string;\n  ipaPath: string;\n  signingIdentity: string;\n  keychainPath: string;\n  targetProvisioningProfiles: TargetProvisioningProfiles;\n}): Promise<void> {\n  const PROFILES: { BUNDLE_ID: string; PATH: string }[] = [];\n  const targets = Object.keys(targetProvisioningProfiles);\n  for (const target of targets) {\n    const profile = targetProvisioningProfiles[target];\n    PROFILES.push({\n      BUNDLE_ID: profile.bundleIdentifier,\n      PATH: profile.path,\n    });\n  }\n\n  await templateFile(\n    RESIGN_TEMPLATE_FILE_PATH,\n    {\n      IPA_PATH: ipaPath,\n      SIGNING_IDENTITY: signingIdentity,\n      PROFILES,\n      KEYCHAIN_PATH: keychainPath,\n    },\n    outputFile,\n    { mustache: false }\n  );\n}\n"]}