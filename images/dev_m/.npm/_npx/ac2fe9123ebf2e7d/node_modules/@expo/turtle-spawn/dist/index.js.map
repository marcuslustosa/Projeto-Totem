{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,yCAAiE;AACjE,oEAI2B;AAQ3B,SAAS,KAAK,CACZ,OAAe,EACf,IAAc,EACd,WAAyB;IACvB,KAAK,EAAE,SAAS;IAChB,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE;CACnB;IAED,MAAM,EAAE,MAAM,KAAiB,QAAQ,EAApB,OAAO,UAAK,QAAQ,EAAjC,UAAsB,CAAW,CAAC;IACxC,IAAI,MAAM,EAAE;QACV,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC;KACxB;IACD,MAAM,OAAO,GAAG,IAAA,qBAAU,EAAC,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IACnD,IAAI,MAAM,IAAI,OAAO,CAAC,KAAK,EAAE;QAC3B,IAAA,wBAAe,EAAC,MAAM,EAAE,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;KACjD;IACD,OAAO,OAAO,CAAC;AACjB,CAAC;AAED,kBAAe,KAAK,CAAC","sourcesContent":["import { pipeSpawnOutput, bunyan, PipeMode } from '@expo/logger';\nimport spawnAsync, {\n  SpawnResult,\n  SpawnPromise,\n  SpawnOptions as SpawnAsyncOptions,\n} from '@expo/spawn-async';\n\ntype SpawnOptions = SpawnAsyncOptions & {\n  logger?: bunyan;\n  lineTransformer?: (line: string) => string | null;\n  mode?: PipeMode;\n};\n\nfunction spawn(\n  command: string,\n  args: string[],\n  _options: SpawnOptions = {\n    stdio: 'inherit',\n    cwd: process.cwd(),\n  }\n): SpawnPromise<SpawnResult> {\n  const { logger, ...options } = _options;\n  if (logger) {\n    options.stdio = 'pipe';\n  }\n  const promise = spawnAsync(command, args, options);\n  if (logger && promise.child) {\n    pipeSpawnOutput(logger, promise.child, options);\n  }\n  return promise;\n}\n\nexport default spawn;\nexport { SpawnOptions, SpawnResult, SpawnPromise };\n"]}